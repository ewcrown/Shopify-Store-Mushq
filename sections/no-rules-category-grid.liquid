{% comment %}
  NO RULES â€“ Category grid (4 tiles, landing)
  Blocks: image + link for each tile
{% endcomment %}
<section class="no-rules-category-grid" id="no-rules-category-{{ section.id }}" aria-label="Shop by category">
  <div class="no-rules-category-grid__inner">
    {% for block in section.blocks %}
      <a href="{{ block.settings.link | default: '#' }}" class="no-rules-category-grid__tile {% if block.settings.wide %}no-rules-category-grid__tile--wide{% endif %}" {{ block.shopify_attributes }}>
        {% if block.settings.image != blank %}
          <img
            src="{{ block.settings.image | image_url: width: 600 }}"
            alt="{{ block.settings.alt | default: block.settings.title }}"
            width="600"
            loading="lazy"
            style="width:100%;height:100%;object-fit:cover;"
          />
        {% else %}
          <span class="no-rules-category-grid__placeholder">{{ block.settings.title | default: 'Category' }}</span>
        {% endif %}
      </a>
    {% endfor %}
  </div>
  <style>
    .no-rules-category-grid { padding: 32px 24px; }
    .no-rules-category-grid__inner { max-width: 1440px; margin: 0 auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
    .no-rules-category-grid__tile { aspect-ratio: 499/749; overflow: hidden; border-radius: 8px; display: block; }
    .no-rules-category-grid__tile--wide { grid-column: span 2; aspect-ratio: 822/548; }
    .no-rules-category-grid__placeholder { display: flex; align-items: center; justify-content: center; height: 100%; background: #f0f0f0; color: #666; }
    @media (max-width: 900px) { .no-rules-category-grid__inner { grid-template-columns: 1fr 1fr; } .no-rules-category-grid__tile--wide { grid-column: span 2; } }
    @media (max-width: 500px) { .no-rules-category-grid__inner { grid-template-columns: 1fr; } .no-rules-category-grid__tile, .no-rules-category-grid__tile--wide { grid-column: span 1; aspect-ratio: 4/5; } }
  </style>
</section>

{% schema %}
{
  "name": "NO RULES Category Grid",
  "tag": "section",
  "class": "section-no-rules-category-grid",
  "blocks": [
    {
      "type": "tile",
      "name": "Category tile",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "title", "label": "Title" },
        { "type": "text", "id": "alt", "label": "Image alt text" },
        { "type": "url", "id": "link", "label": "Link" },
        { "type": "checkbox", "id": "wide", "label": "Wide tile (2 columns)", "default": false }
      ]
    }
  ],
  "presets": [
    { "name": "NO RULES Category Grid", "blocks": [{ "type": "tile" }, { "type": "tile" }, { "type": "tile", "settings": { "wide": true } }, { "type": "tile" }] }
  ]
}
{% endschema %}
